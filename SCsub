import os
import re

Import("env")

m_env = env.Clone()

sources = [env.Glob(s) for s in ["*.cpp"]]
lib_path = [
    f"target/{'aarch64' if env['arch']=='arm64' else env['arch']}-{'unknown-linux-gnu' if env['platform']=='linuxbsd' else 'linux-android' if env['platform']=='android' else env['platform']}/release"
]

env.Append(LIBPATH=[env.Dir(p).abspath for p in lib_path])
env.Append(LIBS=["glicol_lib"])
m_env.add_source_files(env.modules_sources, sources)
