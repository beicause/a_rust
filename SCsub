import os
import re

Import("env")

m_env = env.Clone()

# w2c2 glicol_wasm.wasm glicol.c
sources = [env.Glob("*.cpp"), env.Glob("c2/glicol/*.c"), env.Glob("c2/wasi/*.c")]
m_env.Append(CPPPATH=[m_env.Dir(s).abspath for s in ["c2/base", "c2/glicol", "c2/wasi"]])
m_env.Append(CPPFLAGS=["-Wno-unused-label"])
m_env.add_source_files(env.modules_sources, sources)
